{
	"$schema": "http://json-schema.org/draft-07/schema",
	"$id": "item.json",
	"title": "Items",
	"description": "The item data type for Pf2eTools.",
	"type": "object",
	"version": "0.0.1",
	"properties": {
		"item": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"source": {
						"type": "string",
						"$ref": "utils.json#/definitions/sourceList"
					},
					"otherSources": {
						"$ref": "utils.json#/definitions/otherSources"
					},
					"name": {
						"type": "string"
					},
					"page": {
						"type": "integer"
					},
					"equipment": {
						"type": "boolean",
						"title": "Equipment Boolean",
						"description": "Determines whether or not an item is available at level 1 and craftable using the Basic Crafter's Book. Mainly for items from Chapter 7 of the Core Rulebook."
					},
					"activate": {
						"type": "object",
						"properties": {
							"frequency": {
								"$ref": "utils.json#/definitions/frequency"
							},
							"components": {
								"type": "array",
								"items": {
									"type": "string"
								}
							},
							"requirements": {
								"type": "string"
							},
							"trigger": {
								"type": "string"
							},
							"activity": {
								"$ref": "utils.json#/definitions/activity"
							}
						}
					},
					"bulk": {
						"anyOf": [
							{
								"type": "integer"
							},
							{
								"type": "string",
								"enum": [
									"L"
								]
							}
						]
					},
					"hands": {
						"$comment": "This is only for tools. Weapons should use the hands key in the weaponData",
						"anyOf": [
							{
								"type": "integer"
							},
							{
								"type": "string",
								"pattern": "\\d\\+|1 or 2*"
							}
						]
					},
					"type": {
						"type": "string",
						"title": "Item Type",
						"description": "Currently, it is just what the item renders on the Items page next to the level.",
						"enum": [
							"Equipment",
							"Item",
							"Rune",
							"Artifact",
							"Snare"
						]
					},
					"level": {
						"anyOf": [
							{
								"type": "integer"
							},
							{
								"type": "string",
								"pattern": "\\d+\\+"
							}
						]
					},
					"traits": {
						"type": "array",
						"items": {
							"type": "string",
							"$ref": "utils.json#/definitions/anyTrait"
						},
						"minItems": 1,
						"uniqueItems": true
					},
					"ammunition": {
						"type": "array",
						"items": {
							"type": "string"
						},
						"minItems": 1,
						"uniqueItems": true,
						"description": "Items from the Ammunition category list their type of ammunition."
					},
					"price": {
						"$ref": "utils.json#/definitions/price"
					},
					"weaponData": {
						"$ref": "items.json#/definitions/weaponData"
					},
					"comboWeaponData": {
						"title": "Data for secondary combo weapon stats. Usually melee stats of ranged weapons.",
						"$ref": "items.json#/definitions/weaponData"
					},
					"armorData": {
						"$ref": "items.json#/definitions/armorData"
					},
					"shieldData": {
						"$ref": "items.json#/definitions/shieldData"
					},
					"entries": {
						"type": "array",
						"items": {
							"$ref": "entry.json"
						}
					},
					"category": {
						"type": "string",
						"enum": [
							"Ammunition",
							"Apex",
							"Armor",
							"Artifact",
							"Assistive Item",
							"Bomb",
							"Companion",
							"Consumable",
							"Contract",
							"Curse",
							"Elixir",
							"Adventuring Gear",
							"Grimore",
							"Held",
							"Material",
							"Modification",
							"Oil",
							"Poison",
							"Potion",
							"Rune",
							"Scroll",
							"Shield",
							"Siege Weapon",
							"Snare",
							"Spellheart",
							"Staff",
							"Structure",
							"Talisman",
							"Tattoo",
							"Tool",
							"Wand",
							"Weapon",
							"Worn"
						]
					},
					"subCategory": {
						"type": "string",
						"enum": [
							"Advanced",
							"Martial",
							"Simple",
							"Canes & Crutches",
							"Clothing",
							"Firing Mechanism",
							"Hearing",
							"Heavy",
							"Light",
							"Medium",
							"Prosthesis",
							"Reading",
							"Scope",
							"Shield",
							"Supports and Splints",
							"Unarmored",
							"Vision",
							"Wheelchair",
							"Wheelchair Upgrade"
						]
					},
					"appliesTo": {
						"type": "array",
						"items": {
							"type": "string",
							"enum": [
								"Weapon",
								"Armor",
								"Shield",
								"Other"
							]
						},
						"minItems": 1,
						"uniqueItems": true
					},
					"generic": {
						"type": "string",
						"enum": [
							"G"
						]
					},
					"add_hash": {
						"type": "string"
					},
					"usage": {
						"type": "string"
					},
					"access": {
						"type": "string"
					},
					"variants": {
						"type": "array",
						"minItems": 1,
						"items": {
							"type": "object",
							"$ref": "items.json#/properties/item/items"
						}
					},
					"craftReq": {
						"type": "string"
					}
				},
				"additionalProperties": false,
				"required": [
					"source",
					"name",
					"page"
				],
				"anyOf": [
					{
						"not": {
							"required": [
								"generic",
								"add_hash"
							]
						}
					},
					{
						"required": [
							"add_hash"
						],
						"not": {
							"required": [
								"generic"
							]
						}
					},
					{
						"required": [
							"generic"
						],
						"not": {
							"required": [
								"add_hash"
							]
						}
					}
				]
			},
			"uniqueItems": true
		}
	},
	"definitions": {
		"weaponData": {
			"type": "object",
			"title": "Weapon Object Data",
			"description": "Describes the statistics of a weapon item.",
			"required": [
				"group",
				"damage",
				"damageType"
			],
			"properties": {
				"type": {
					"title": "Weapon Type Title",
					"description": "For use with comboWeaponData, usually \"Ranged\" for weaponData and \"Melee\" for comboWeaponData.",
					"type": "string"
				},
				"group": {
					"$ref": "utils.json#/definitions/weaponGroup"
				},
				"damage": {
					"type": "string"
				},
				"damageType": {
					"$ref": "utils.json#/definitions/damageTypeTags"
				},
				"reload": {
					"anyOf": [
						{
							"type": "integer"
						},
						{
							"type": "string",
							"pattern": "\\d+ min."
						}
					]
				},
				"range": {
					"type": "integer"
				},
				"ammunition": {
					"type": "string"
				},
				"hands": {
					"anyOf": [
						{
							"type": "number"
						},
						{
							"type": "string",
							"pattern": "\\d\\+|1 or 2*"
						}
					]
				},
				"traits": {
					"type": "array",
					"items": {
						"type": "string",
						"$ref": "utils.json#/definitions/anyTrait"
					},
					"minItems": 1,
					"uniqueItems": true
				}
			},
			"additionalProperties": false
		},
		"armorData": {
			"type": "object",
			"title": "Armor Object Data",
			"description": "Describes the statistics of an armor item.",
			"required": [
				"group",
				"ac",
				"dexCap",
				"str",
				"checkPen",
				"speedPen"
			],
			"properties": {
				"group": {
					"$ref": "utils.json#/definitions/armorGroup"
				},
				"ac": {
					"type": "integer"
				},
				"dexCap": {
					"type": "integer"
				},
				"str": {
					"type": "integer"
				},
				"checkPen": {
					"type": "integer"
				},
				"speedPen": {
					"type": "integer"
				}
			},
			"additionalProperties": false
		},
		"shieldData": {
			"type": "object",
			"title": "Shield Object Data",
			"description": "Describes the statistics of a shield item.",
			"required": [
				"ac",
				"hardness",
				"hp",
				"bt"
			],
			"properties": {
				"ac": {
					"type": "integer"
				},
				"ac2": {
					"type": "integer"
				},
				"hardness": {
					"type": "integer"
				},
				"hp": {
					"type": "integer"
				},
				"speedPen": {
					"type": "integer"
				},
				"bt": {
					"description": "Breaking Threshold",
					"type": "integer"
				}
			},
			"additionalProperties": false
		}
	},
	"additionalProperties": false,
	"required": [
		"item"
	]
}
